<%
    function getSelectedClass(name) {
        return name === viewBag.pageTitle ? 'active' : '';
    }
%>

<header>
    <nav class="navbar navbar-dark navbar-expand-lg bg-primary">
        <div class="container-fluid">

            <a class="navbar-brand" href="/">Placement Cell</a>

            <button 
                class="navbar-toggler" 
                type="button" 
                data-bs-toggle="collapse" 
                data-bs-target="#navbarSupportedContent" 
                aria-controls="navbarSupportedContent" 
                aria-expanded="false" 
                aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">

                <ul class="navbar-nav me-auto mb-2 mb-lg-0 w-100">
                    
                    <% if (!user) { %>
                        <li class="nav-item">
                            <a 
                                class="nav-link <%= getSelectedClass('Sign In') %>" 
                                href="/sign-in">
                                Sign In
                            </a>
                        </li>
    
                        <li class="nav-item">
                            <a 
                                class="nav-link <%= getSelectedClass('Sign Up') %>" 
                                href="/sign-up">
                                Sign Up
                            </a>
                        </li> 
                    <% } else { %>
                        <li class="nav-item">
                            <a class="nav-link <%= getSelectedClass('Students') %>" href="/students">Students</a>
                        </li>

                        <li class="nav-item">
                            <a 
                                class="nav-link <%= getSelectedClass('Students | Course Scores') %>" 
                                href="/students/course-scores">
                                Course Scores
                            </a>
                        </li>

                        <li class="nav-item">
                            <a 
                                class="nav-link <%= getSelectedClass('Interviews') %>" 
                                href="/interviews">
                                Interviews
                            </a>
                        </li>

                        <li class="nav-item">
                            <a 
                                class="nav-link <%= getSelectedClass('Jobs') %>" 
                                href="/jobs">
                                Jobs
                            </a>
                        </li>  

                        <li class="nav-item flex-grow-1"></li>

                        <li class="nav-item">
                            <a class="nav-link active" href="#"><%= user.name %></a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link active" href="/sign-out">Sign Out</a>
                        </li>
                    <% } %>

                </ul>

            </div>
        </div>
    </nav>
</header>